#### 1 自动化测试需求

##### 1.1 项目背景

Android 是当前使用范围最广的移动端操作系统,近些年,用户对 Android 的应用需求正在发生转变。随着大屏幕
设备的逐渐增多以及设备性能的不断提高,传统上用整个屏幕显示一个内容的显示模式已经逐渐开始显得乏力。通过对众多用户需求的分析, Android 桌面化已经是当前 Android 的一个重要的发展方向。

Android-x86 项目是以 AOSP 项目为基础进行的系统定制项目。该项目的目的在于将 Android 系统在大部分 x86平台上进行适配。利用 x86 架构设备的高性能来呈现一个与以往不一样的Android 操作体验。该项目由 Cwhuang 和 Beyounn 主持设计。

Openthos是一个开源的桌面操作系统，它基于标准Linux内核、AOSP和Android-x86等开源项目。为了使移动端的安卓能够呈现桌面端的效果，它在Android Framework系统层面和Linux GUI系统层面进行了扩展和定制。目前可以运行在X86-64的计算机上，主要面向笔记本电脑、台式机等大屏设备，能同时运行Android典型应用和Linux典型应用，支持多窗口界面、系统在线升级、多任务、本地/网络打印等日常办公操作，可用于车载电子、虚拟云桌面、教育培训、数字医疗、工业控制、移动终端办公等专业领域。

##### 1.2 编写目的

- 分离出测试工作的重点问题，对重点问题进行自动化测试
- 对操作系统进行测试是一个繁重而复杂的工作，对于程式化的操作进行自动化测试，可以解放测试人员的精力和时间。
- 自动化测试可以对细节进行全覆盖，可避免人工操作的遗漏。
- 加快测试工作的进程，高效地发现系统中存在的问题。
- 为其它的测试项目提供参考。

##### 1.3 功能需求

- 由于多窗口的加入，Ｏpenthos的UI接口在实现上与Android是不一样的，应对所有app的UI进行测试

- 为了模仿桌面的操作环境，Openthos重新设计了系统级的UI，应对SystemUI进行全面的测试
- 为测试系统的稳定性，应选取一款app进行压力测试
- 为了提升用户在桌面上的体验，Openthos研发了一系统的应用，应对这些应用进行全面的测试
- 对测试的对象应全面分析其功能，尽量覆盖其全部的功能

##### 1.4 测试对象

依据功能需求，确定如下测试对象：

- 所有应用的图形界面
- 应用商店、文件管理器、桌面、设置、开始菜单的所有功能
- 浏览器压力测试

##### 1.5 测试框架

UIAutomator是安卓官方主推的自动化测试框架，它有如下优点：

- 它注入原生事件进行模拟。通过模拟用户操作来与设备界面进行交互，可以尽量模仿用户的真实操作。
- 它有很好的耦合性。
- 它支持跨应用操作。尤其是对于整个系统的测试，这是很重要的一个特性。它使得测试工作可以不用局限于单个的应用。
- 它可以方便地进行事件监控。
- 它有良好的扩展性。它提供了一系列接口进行二次开发。
- 它非常容易上手。可以提高开发的效率。

正是有如上优点，所有我们选择UIAutomator作为我们的测试框架。

#### 2 自动化测试设计

##### 2.1 通用测试

| 模块         | 测试项目                   |
| ------------ | -------------------------- |
| 窗口模式     | 窗口可以正常打开           |
|              | 最大化、最小化按钮功能     |
|              | 改变窗体大小               |
|              | 窗口可以正常关闭           |
|              |                            |
| 全屏模式     | 窗口可以正常打开           |
|              | 鼠标在顶部滑动可弹出标题栏 |
|              | 最大化、最小化按钮功能     |
|              | 窗口可以正常关闭           |
|              |                            |
| 强制全屏模式 | 窗口可以正常打开           |
|              | 窗口可以正常关闭           |


##### 2.2 应用商店

| 模块                          | 测试项目                                                     |
| ----------------------------- | ------------------------------------------------------------ |
| 准备部分                      | 关闭设置-安全中的未知来源                                    |
|                               | 启动应用商店并全屏                                           |
|                               | 确认测试用例相关的几个应用都处于未安装且未下载状态，否则卸载并移除应用 |
|                               |                                                              |
| 下载暂停和继续                | 测试下载暂停功能                                             |
|                               | 测试继续下载功能                                             |
|                               |                                                              |
| 点击下载、更新和安装的图标    | 首页页面下载安装                                             |
|                               | 软件页面下载安装                                             |
|                               | 软件页面更新                                                 |
|                               |                                                              |
| 卸载和移除应用                | 卸载                                                         |
|                               | 移除                                                         |
|                               |                                                              |
| 应用详情页面 管理页面更新列表 | 应用详情页面下载安装                                         |
|                               | 应用详情页面更新                                             |
|                               | 管理页面更新应用                                             |
|                               |                                                              |
| 首页栏目 页面返回按钮         | 测试首页栏目能否进入特定应用                                 |
|                               | 测试页面返回按钮                                             |
|                               |                                                              |
| 搜索应用 打开应用             | 搜索应用                                                     |
|                               | 打开应用                                                     |
|                               |                                                              |
| 清理结束                      | 清理                                                         |
|                               | 结束                                                         |

##### 2.3 浏览器压力测试

| 模块         | 测试项目               |
| ------------ | ---------------------- |
| 创建压力环境 | 开启多个占处理器的页面 |




##### 2.4 文件管理器

| 模块     | 测试项目                                  |
| -------- | ----------------------------------------- |
| 准备部分 | 切换输入法到英文                          |
|          | 解压测试文件夹                            |
|          | 拷贝视频文件到测试文件夹                  |
|          | 判断图片/壁纸文件夹是否存在或是否需要替换 |
|          |                                           |
| 工具栏   | 左上六按钮                                |
|          | 地址栏                                    |
|          | 搜索栏                                    |
|          |                                           |
| 导航栏   | 左键                                      |
|          | 右键                                      |
|          |                                           |
| 首页     | 个人空间                                  |
|          | 用户数据                                  |
|          | 我的计算机                                |
|          | sda2                                      |
|          |                                           |
| 文件     | 单击                                      |
|          | 双击                                      |
|          | 右键菜单                                  |
|          | 其它类型文件                              |
|          |                                           |
| 文件夹   | 单击                                      |
|          | 双击                                      |
|          | 右键菜单                                  |
|          |                                           |
| 空白处   | 单击                                      |
|          | 右键                                      |
|          |                                           |
| 快捷键   | enter/BackSpace/esc                       |
|          | ctrl+c/v/x/a                              |
|          | 多选 ctrl/shift/框选                      |
|          | F5/F2                                     |
|          | delete/shift+delete                       |
|          | tab切换/方向键                            |
|          | 滚轮                                      |
|          |                                           |
| 回收站   | 右键空白处                                |
|          | 右键文件                                  |
|          |                                           |
| u盘      |                                           |
|          |                                           |
| 个人空间 |                                           |
|          |                                           |
| 云服务   |                                           |
|          |                                           |
| 网上邻居 |                                           |
|          |                                           |
| 清理结束 | 结束                                      |

##### 2.5 桌面测试

| 模块     | 测试项目 |
| -------- | -------- |
| 准备部分 | 唤醒屏幕 |
|          |          |
| 空白处   | 右键菜单 |
|          |          |
| 我的电脑 | 双击打开 |
|          | 右键菜单 |
|          |          |
| 文件菜单 | 打开     |
|          | 打开方式 |
|          | 压缩     |
|          | 剪切     |
|          | 复制     |
|          | 重命名   |
|          | 属性     |
|          | 解压缩   |
|          | 删除     |
|          |          |
| 回收站   | 双击打开 |
|          | 右键菜单 |

##### 2.6 设置测试

| 模块            | 测试项目                           |
| --------------- | ---------------------------------- |
| 0 准备部分      | 拷贝并安装测试应用到测试机         |
|                 | 最大化设置窗口，以避免窗口穿透问题 |
|                 |                                    |
| 1 WLAN          | 开启/关闭                          |
|                 | DHCP+显示密码                      |
|                 | 静态IP+不显示密码                  |
|                 | 未保存网络其它设置                 |
|                 | 已保存网络                         |
|                 | 已连接网络                         |
|                 | 长按                               |
|                 |                                    |
| 2 蓝牙          | 开启/关闭                          |
|                 | 右上菜单                           |
|                 |                                    |
| 3 以太网        |                                    |
|                 |                                    |
| 4 更多          | 飞行模式                           |
|                 | VPN                                |
|                 |                                    |
| 5 显示          | 当前                               |
|                 | 亮度                               |
|                 | 壁纸                               |
|                 | 字体大小                           |
|                 | 显示缩放                           |
|                 |                                    |
| 6 提示音和通知  | 媒体音量                           |
|                 | 闹钟音量                           |
|                 | 通知音量                           |
|                 | 默认通知铃声                       |
|                 | 其他提示音                         |
|                 | 通知                               |
|                 |                                    |
| 7 电池管理      | 节能设置                           |
|                 | 休眠                               |
|                 | 电量详细信息                       |
|                 | 不锁定屏幕                         |
|                 |                                    |
| 8 应用          |                                    |
|                 |                                    |
| 9 位置信息      |                                    |
|                 |                                    |
| 10 安全         | 屏幕锁定方式                       |
|                 | 机主信息                           |
|                 | 显示密码                           |
|                 | 设备管理器                         |
|                 | 未知来源                           |
|                 | 凭据存储                           |
|                 | 高级                               |
|                 |                                    |
| 11 帐户         | 添加帐户                           |
|                 | 同步数据                           |
|                 | 帐户设置                           |
|                 | 移除帐户                           |
|                 |                                    |
| 12 系统账户管理 |                                    |
|                 |                                    |
| 13 语言和输入法 | 语言                               |
|                 | 拼写检查工具                       |
|                 | 个人字典                           |
|                 | 当前输入法                         |
|                 | Android键盘(AOSP)                  |
|                 | 谷歌拼音输入法                     |
|                 | 物理键盘                           |
|                 | 语音                               |
|                 | 鼠标/控制版                        |
|                 |                                    |
| 14 日期和时间   |                                    |
|                 |                                    |
| 15 无障碍       |                                    |
|                 |                                    |
| 16 打印         |                                    |
|                 |                                    |
| 15 开发者选项   |                                    |
|                 |                                    |
| 17 关于设备     |                                    |
|                 |                                    |
| 18 云服务       |                                    |
|                 |                                    |
| 19 工具栏       | 返回按钮                           |
|                 | 搜索按钮                           |
|                 |                                    |
| 20 清理结束     | 结束                               |

##### 2.7 开始菜单

| 模块     | 测试项目                       |
| -------- | ------------------------------ |
| 准备部分 | 打开设置的“未知来源”选项       |
|          | 在应用商店下载并安装os monitor |
|          | 删除开始菜单常用软件列表的应用 |
|          |                                |
| 工具栏   | 搜索栏                         |
|          | 排序栏                         |
|          |                                |
| 应用列表 | 左键点击                       |
|          | 右键菜单                       |
|          |                                |
| 常用软件 | 显示                           |
|          | 左键点击                       |
|          | 右键菜单                       |
|          |                                |
| 系统应用 | 单击                           |
|          |                                |
| 清理结束 | 清理                           |
|          | 结束                           |

#### 3 自动化测试实现

##### 3.1 通用测试

| 模块         | 测试点                     | 验证方式                              |
| ------------ | -------------------------- | ------------------------------------- |
| 窗口模式     | 窗口可以正常打开           | otoTest.mydevice.isScreenOn()返回TRUE |
|              | 最大化、最小化按钮功能     | 观察窗口已实现最大化和最小化          |
|              | 改变窗体大小               | 通过计算窗体位置判断拖拽成功          |
|              | 窗口可以正常关闭           | 观察到程序成功退出                    |
|              |                            |                                       |
| 全屏模式     | 窗口可以正常打开           | otoTest.mydevice.isScreenOn()返回TRUE |
|              | 鼠标在顶部滑动可弹出标题栏 | 点击最大化或最小化生效                |
|              | 最大化、最小化按钮功能     | 观察窗口已实现最大化和最小化          |
|              | 窗口可以正常关闭           | 观察到程序成功退出                    |
|              |                            |                                       |
| 强制全屏模式 | 窗口可以正常打开           | otoTest.mydevice.isScreenOn()返回TRUE |
|              | 窗口可以正常关闭           | 观察到程序成功退出                    |

##### 3.2 应用商店

| 模块                          | 测试点                                                       | 验证方式                           |
| ----------------------------- | ------------------------------------------------------------ | ---------------------------------- |
| 准备部分                      | 关闭设置-安全中的未知来源                                    |                                    |
|                               | 启动应用商店并全屏                                           |                                    |
|                               | 确认测试用例相关的几个应用都处于未安装且未下载状态，否则卸载并移除应用 |                                    |
|                               |                                                              |                                    |
| 下载暂停和继续                | 在管理-下载页面中点击暂停按钮                                | 10秒后对比暂停前后的下载进度       |
|                               | 继续完成下载任务并安装应用1                                  | 完成应用1的安装                    |
|                               |                                                              |                                    |
| 点击下载、更新和安装的图标    | 测试在应用商店首页下载应用2                                  | 应用2完成安装                      |
|                               | 测试在所有软件页面下载安装应用3                              | 应用3完成安装                      |
|                               | 测试在所有软件页面更新应用4                                  | 应用4完成更新                      |
|                               |                                                              |                                    |
| 卸载和移除应用                | 卸载4个应用                                                  | 4个应用完成卸载                    |
|                               | 移除4个应用                                                  | 4个应用完成移除                    |
|                               |                                                              |                                    |
| 应用详情页面 管理页面更新列表 | 进入应用详情页面下载安装应用3                                | 应用3完成安装                      |
|                               | 进入应用详情页面更新应用4                                    | 应用4完成更新                      |
|                               | 进入管理页面在更新列表中更新应用4                            | 应用4完成更新                      |
|                               |                                                              |                                    |
| 首页栏目 页面返回按钮         | 进入 "最受欢迎" → "所有" → "微博"                            | 验证 "一款社交软件" 存在           |
|                               | 微博页面按两次返回按钮                                       | 验证每次按完后 "最新推荐" 是否存在 |
|                               |                                                              |                                    |
| 搜索应用 打开应用             | 输入 "monitor"                                               | 后续操作找到os monitor应用         |
|                               | 打开 "os monitor"                                            | 验证 "进程" 存在                   |
|                               |                                                              |                                    |
| 清理结束                      | 卸载移除测试相关应用                                         |                                    |
|                               | 关闭应用商店                                                 |                                    |

##### 3.3 浏览器压力测试

| 模块         | 测试点                 | 验证方式                                                     |
| ------------ | ---------------------- | ------------------------------------------------------------ |
| 创建压力环境 | 开启多个占处理器的页面 | 多个标签均已打开，使用系统监控程序观察处理器占用，观察多个页面的运行情况 |

##### 3.4 文件管理器

| 模块     | 测试点                                                       | 验证方式                                                     |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 准备部分 | 切换输入法到英文                                             |                                                              |
|          | 解压测试文件夹                                               |                                                              |
|          | 拷贝视频文件到测试文件夹                                     |                                                              |
|          | 判断图片/壁纸文件夹是否存在或是否需要替换                    |                                                              |
|          |                                                              |                                                              |
| 工具栏   | 返回按钮 前进按钮 上一级按钮 设置按钮 图标排列按钮 列表排列按钮 | 验证 wallpaper 存在 验证 壁纸test 存在 验证 U盘测试 存在 未做判断 验证 file_path_grid 存在 验证 file_path_list 存在 |
|          | 显示（～/Download/U盘测试/壁纸test） 输入（~/Download/U盘测试/文档test） 点击目录（依次点击 U盘测试、Download和~） | 比对地址栏显示的每一项目录是否正确 验证 用户反馈0627.xls 存在 验证 壁纸test、U盘测试.zip和Alarms 存在 |
|          | 默认显示 回车确认（搜索 用户反馈0627） 按钮确认              | 验证内容为 请输入搜索内容 未做判断 未做判断                  |
|          |                                                              |                                                              |
| 导航栏   | 桌面 音乐 视频 图片 文档 下载 回收站 计算机 sda2 云服务 网上邻居 | 验证 UserGuide.html 存在 验证 地址栏的第二项 为Music 验证 big_buck_bunny视频 存在 验证 地址栏的第二项 为Pictures 验证 地址栏的第二项 为documents 验证 U盘测试 存在 验证 地址栏的第二项 为Recycle 验证 用户数据 存在 验证 etc 存在 未做判断 未做判断 |
|          | 挂载（sda1） 卸载（sda1和sda2）                              | 验证计算机中grid_auto_mount_device的前两项为 sda1和sda2 未做判断 |
|          |                                                              |                                                              |
| 首页     | 点击 双击 右键                                               | 验证 tv_personal_title 选中 验证 第一个文件 为 桌面 验证 第一个文件 为 桌面 |
|          | 点击 双击 右键                                               | 验证 tv_system_title 选中 验证 第一个文件 为 Alarms 验证 第一个文件 为 Alarms |
|          | 点击 双击 右键                                               | 验证 tv_sd_title 选中 验证 storage 存在 验证 storage 存在    |
|          | 点击 双击 右键打开 右键卸载                                  | 验证 grid_auto_mount_device 的sda2 选中 验证 etc 存在 验证 etc 存在 未做判断 |
|          |                                                              |                                                              |
| 文件     | 单击选中                                                     | 验证状态栏的内容为 130549p29fosfs6ystsks2.jpg\t3.5 MB        |
|          | 双击打开                                                     | 打开图库并关闭                                               |
|          | 打开 打开方式 复制 剪切 删除 永久删除 重命名 发送 复制路径 压缩 解压缩 详情 | 验证 使用图库打开 存在 验证 图库 存在 验证 130549p29fosfs6ystsks2.2.jpg 存在 验证音乐目录下 130549p29fosfs6ystsks2.jpg 存在而原目录中不存在 验证回收站 130549p29fosfs6ystsks2.2.jpg 存在而原目录中不存在 验证 3c5b9c082f98a40205b95f9a7a3adb92.jpg 不存在 验证 001.jpg 存在 验证 分享方式 存在 验证复制后的字符与 /storage/emulated/0/Download/U盘测试/壁纸test/001.jpg 一致 验证 001.zip 存在 验证 001.jpg 已经存在，是否继续解压缩（将会覆盖重名文件）？ 存在 比对名称、位置、大小和权限信息 |
|          | txt mp3 apk mp4                                              | 验证 文本编辑器 存在 验证 音乐 存在 验证 软件包安装程序 存在 验证 VLC 存在 |
|          |                                                              |                                                              |
| 文件夹   | 单击选中                                                     | 验证状态栏的内容为 文档test\t5 项                            |
|          | 双击打开                                                     | 验证 用户反馈0627.xls 存在                                   |
|          | 打开 复制 剪切 删除 永久删除 重命名 发送 复制路径 压缩 解压缩 详情 | 验证 用户反馈0627.xls 存在 验证 文档test.2 存在 验证音乐目录下 文档test.2 存在而原目录中不存在 验证回收站 文档test.2 存在而原目录中不存在 验证 文档test.2 不存在 验证 002 存在 验证 不能发送文件夹 存在 验证复制后的字符与 /storage/emulated/0/Download/U盘测试/壁纸test 一致 验证 音乐test.zip 存在 验证 音乐test/远处.mp3 已经存在，是否继续解压缩（将会覆盖重名文件）？ 存在 比对名称、位置、大小和权限信息 |
|          |                                                              |                                                              |
| 空白处   | 单击选中                                                     | 验证状态栏的内容为 3 个文件夹;\t3 个文件,占用47.9 MB空间;    |
|          | 排序 (默认 名称逆顺 大小顺逆 类型顺逆 时间顺逆) 新建文件夹 创建文件 (doc xls ppt txt) 显示隐藏文件 | 验证每次排序与列表一致 验证 003 存在 验证 doc.doc、xls.xls、ppt.ppt和txt.txt 存在 未做判断 |
|          |                                                              |                                                              |
| 快捷键   | Enter文件夹 Enter文件 Backspcae Esc                          | 验证 001.jpg 存在 通过图库打开文件 验证 002 存在 验证 U盘测试.zip 存在 |
|          | ctrl+c ctrl+x ctrl+a                                         | 验证 apkpure_app_904.2.apk 存在 验证音乐目录下apkpure_app_904.2.apk存在而原目录不存在 验证状态栏内容为 5 项被选中 |
|          | ctrl多选 shift多选 框选                                      | 验证状态栏内容为 3 项被选中 验证状态栏内容为 5 项被选中 验证状态栏内容为 4 项被选中 |
|          | F5刷新 F2重命名                                              | 未做判断 验证 004.ppt 存在                                   |
|          | delete shift + delete                                        | 验证回收站存在 doc.doc 而原目录不存在 验证 ppt.ppt 不存在    |
|          | 回退 前进 向上 设置 格子显示 列表显示 地址栏 搜索栏 导航栏切换 内容栏切换 | 验证 Recycle 存在 验证 远处.mp3 存在 验证 002 存在 未做判断 验证 file_path_grid 存在 验证 file_path_list 存在 验证 U盘测试.zip 存在 未做判断 未做判断 未做判断 |
|          | 滑轮下翻 滑轮上翻 鼠标中键                                   | 验证 wallpaper (1).jpg 不存在而 wallpaper (9).3.jpg 存在 验证 wallpaper (1).jpg 存在而 wallpaper (9).3.jpg 不存在 验证 wallpaper (1).jpg 不存在 |
|          |                                                              |                                                              |
| 回收站   | 全部清空 全部还原                                            | 验证状态栏内容为 空目录! 验证原目录文件存在                  |
|          | 还原 删除 剪切 详情                                          | / / 验证下载目录存在 远处.mp3 而回收站不存在 /               |
|          |                                                              |                                                              |
| u盘      |                                                              |                                                              |
|          |                                                              |                                                              |
| 个人空间 |                                                              |                                                              |
|          |                                                              |                                                              |
| 云服务   |                                                              |                                                              |
|          |                                                              |                                                              |
| 网上邻居 |                                                              |                                                              |
|          |                                                              |                                                              |
| 清理结束 | 关闭文件管理器                                               |                                                              |

##### 3.5 桌面测试

| 模块     | 测试点                                                       | 验证方式                                                     |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 准备部分 | 唤醒屏幕                                                     | 验证屏幕是否打开                                             |
|          |                                                              |                                                              |
| 空白处   | 新建文件夹 新建文件-TXT 新建文件-Word 新建文件-PowerPoint 新建文件-Excel 新建文件-取消 排序 更改壁纸 显示设置-亮度 显示设置-壁纸 分别进入图库和设置壁纸 显示设置-字体大小（超大 普通） 显示设置-显示缩放 | 验证 新建文件夹1 存在 验证 新建文件1.txt 存在 验证 新建文件1.doc 存在 验证 新建文件1.ppt 存在 验证 新建文件1.xls 存在 验证 请选择要创建的文件的格式 不存在 未做判断 完成壁纸更改并验证回到桌面 验证 com.android.systemui:id/slider 存在 完成壁纸更换 验证 android:id/alertTitle的字体大小 存在，具体设置验证android:id/summary的显示 待完成 |
|          |                                                              |                                                              |
| 我的电脑 | 打开我的电脑                                                 | 验证当前包名为 com.openthos.filemanager                      |
|          | 打开 关于本机                                                | 验证当前包名为 com.openthos.filemanager 验证当前包名为 com.android.settings |
|          |                                                              |                                                              |
| 文件菜单 | 打开                                                         | 完成打开文件并关闭                                           |
|          | 通过 Openthos浏览器 打开 UserGuide.html                      | 完成打开并关闭                                               |
|          | zip-压缩 UserGuide.html，无密码 7z-压缩 新建文件夹1 到Desktop/新建文件夹1,密码123,勾选显示密码 tar-压缩 新建文件1.txt | 验证 压缩文件1.zip 存在 后续解压缩foldercomp.7z 验证 文本压缩.tar 存在 |
|          | 剪切并粘贴 新建文件1.txt                                     | 验证 新建文件1.txt 存在                                      |
|          | 复制并粘贴 新建文件1.doc                                     | 验证 新建文件1.2.doc 存在                                    |
|          | 重命名 新建文件1.ppt 为 ReName.ppt                           | 验证 ReName.ppt 存在                                         |
|          | 查看 新建文件1.xls 属性                                      | 找到 com.android.launcher3:id/confirm 并点击                 |
|          | tar-解压 文本压缩.tar 7z-解压 foldercomp.7z 并输入密码       | 未做判断 验证 新建文件夹1 存在                               |
|          | 删除 文本压缩.tar、新建文件1.txt、ReName.ppt、压缩文件1.zip、新建文件夹1、新建文件1.doc、新建文件1.2.doc、新建文件1.xls | 未做判断                                                     |
|          |                                                              |                                                              |
| 回收站   | 双击打开                                                     | 验证当前包名为 com.openthos.filemanager                      |
|          | 清空回收站 确认清空回收站?-是 打开 确认清空回收站?-否        | 验证 确认清空回收站 存在 验证 确认清空回收站 不存在 验证当前包名为 com.openthos.filemanager 验证 确认清空回收站 不存在 |

##### 3.6 设置测试

| 模块            | 测试点                                                       | 验证方式                                                     |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 0 准备部分      | 拷贝并安装到测试机NotificationTest.apk                       |                                                              |
|                 | 最大化设置窗口，以避免窗口穿透问题                           |                                                              |
|                 |                                                              |                                                              |
| 1 WLAN          | 开启 关闭                                                    | 验证 已开启 存在 验证 已关闭 存在                            |
|                 | 选择oslab 输入密码gcf10l-jjmqq 勾选显示密码 ip设置选择DHCP 选择连接 | 可完成后续操作 可完成后续操作 验证 gcf10l-jjmqq 存在 验证 ip设置 和 DHCP 同时存在 验证 oslab 条目中 已保存 存在 |
|                 | 选择oslab 输入密码gcf10l-jjmqq 不勾选显示密码 ip设置选择静态ip并设置地址、网关、长度、DNS1 选择连接 | 可完成后续操作 可完成后续操作 验证 gcf10l-jjmqq 不存在 地址后续验证com.android.settings:id/value ，其它设置无法验证 验证 oslab 条目中 已保存 存在 |
|                 | 未保存网络其它设置:错误密码 代理 取消                        | 等待1分钟，显示 身份验证出现问题  验证WLAN 存在              |
|                 | 已保存网络:取消保存 取消 连接                                |                                                              |
|                 | 已连接网络                                                   |                                                              |
|                 | 长按                                                         |                                                              |
|                 |                                                              |                                                              |
| 2 蓝牙          | 开启 关闭                                                    | 验证 android:id/empty 内容 验证 android:id/summary 内容      |
|                 | 右上菜单                                                     |                                                              |
|                 |                                                              |                                                              |
| 3 以太网        |                                                              |                                                              |
|                 |                                                              |                                                              |
| 4 更多          | 飞行模式                                                     |                                                              |
|                 | VPN                                                          |                                                              |
|                 |                                                              |                                                              |
| 5 显示          | 字体 显示缩放                                                | 对比 android:id/summary 和 shell 的 font_scale 对比 android:id/summary 和 shell 的 wm density |
|                 | 亮度:拖到最大 拖到最小 点击中间                              | 验证 shell 的 screen_brightness 的值为 255\n 验证 shell 的 screen_brightness 的值为 1\n 验证 shell 的 screen_brightness 的值为 128\n |
|                 | 壁纸:图库 设置壁纸-文件管理 设置壁纸-默认                    | 完成壁纸更换 完成壁纸更换                                    |
|                 | 字体大小:小 大 超大 普通 取消                                | 验证 android:id/summary 为小 且 shell 的 font_scale 的值为 0.85\n 验证 android:id/summary 为大 且 shell 的 font_scale 的值为 1.15\n 验证 android:id/summary 为超大 且 shell 的 font_scale 的值为 1.3\n 验证 android:id/summary 为普通 且 shell 的 font_scale 的值为 1.0\n 验证 android:id/summary 为普通 且 shell 的 font_scale 的值为 1.0\n |
|                 | 显示缩放:笔记本 1366x768/ 1280x720 屏幕 笔记本 1920x1080 屏幕 | 验证 android:id/summary 为笔记本 1366x768/ 1280x720 屏幕 且 wm density 为120 验证 android:id/summary 为笔记本 1366x768/ 1280x720 屏幕 且 wm density 为160 |
|                 |                                                              |                                                              |
| 6 提示音和通知  | 媒体音量:最大 最小 中间                                      | 验证 dumpsys audio 的 STREAM_MUSIC 值为 15 验证 dumpsys audio 的 STREAM_MUSIC 值为 0, 验证 dumpsys audio 的 STREAM_MUSIC 值为 7, |
|                 | 闹钟音量:最大 最小 3/7                                       | 验证 dumpsys audio 的 STREAM_ALARM 值为 7\n 验证 dumpsys audio 的 STREAM_ALARM 值为 0\n 验证 dumpsys audio 的 STREAM_ALARM 值为 2\n |
|                 | 通知音量:最大 最小 2/3                                       | 验证 dumpsys audio 的 STREAM_STREAM_DTMF 值为 15 验证 dumpsys audio 的 STREAM_STREAM_DTMF 值为 0\n 验证 dumpsys audio 的 STREAM_STREAM_DTMF 值为 9\n |
|                 | 默认通知铃声:设置为Argon                                     | 验证 再次打开后 Argon 被选中，无 不被选中                    |
|                 | 其他提示音:屏幕锁定提示音开关 触摸提示音开关                 | 验证 屏幕锁定提示音开关的 android:id/switchWidget 是否被选中 验证 触摸提示音开关的 android:id/switchWidget 是否被选中 |
|                 | 通知:默认（非屏蔽非优先，发送通知再截屏） 屏蔽（屏蔽通知测试应用的通知） 优先（发送通知再截屏） 通知使用权（勾选-取消;勾选-确定;取消勾选） | 验证 android:id/text1 不存在，且通知栏第一条标题为 已抓取屏幕截图;第二条标题为 1 验证 android:id/text1 为屏蔽 且通知栏不存在通知 验证 android:id/text1 为优先，且 通知栏第一条标题为 2，第二条标题为 已抓取屏幕截图; 仅验证弹出提示信息和勾选结果是否正确 |
|                 |                                                              |                                                              |
| 7 电池管理      | 节能设置:选择 高效 选择 平衡                                 | 验证 再次打开后高效被选中 验证 再次打开后平衡被选中          |
|                 | 休眠                                                         |                                                              |
|                 | 电量详细信息:显示 刷新 节电助手                              |                                                              |
|                 | 不锁定屏幕                                                   |                                                              |
|                 |                                                              |                                                              |
| 8 应用          |                                                              |                                                              |
|                 |                                                              |                                                              |
| 9 位置信息      |                                                              |                                                              |
|                 |                                                              |                                                              |
| 10 安全         | 屏幕锁定方式:图案 PIN码 密码 无                              | 完成图案解锁 完成PIN码键盘解锁和鼠标解锁 完成密码解锁 完成直接解锁 |
|                 | 机主信息:不勾选 勾选  输入test message                       | 验证 com.android.settings:id/owner_info_edit_text unenabled 验证 com.android.settings:id/owner_info_edit_text enabled 验证 锁屏界面 test message 存在 |
|                 | 显示密码:勾选/不勾选                                         | 仅验证是否选中                                               |
|                 | 设备管理器:勾选Outlook设备政策 不勾选Outlook设备政策         | 仅验证是否选中 仅验证是否选中                                |
|                 | 未知来源:关闭 打开                                           | 验证新安装应用程序 存在 禁止安装 验证新安装应用程序 可直接安装 |
|                 | 凭据存储:存储类型 信任的凭据 从SD卡安装 清除凭据             | 验证 android:id/summary 为 仅限软件 验证 AC Camerfirma S.A. 存在 验证 内部存储空间 存在 验证 此条目 unabled |
|                 | 高级:信任的代理 屏幕固定（开/关） 有权查看使用情况的应用     | 验证 android:id/summary 为  验证 取消固定屏幕时锁定设备 或 screen_pinning_description 存在 验证 android:id/list 存在 |
|                 |                                                              |                                                              |
| 11 帐户         | 添加帐户:选择wps邮箱，登录openthostest@126.com帐户           | 完成登录，并验证android:id/list存在IMAP                      |
|                 | 同步数据:打开自动同步数据+立即同步 取消自动同步数据          | 验证 android:id/summary 为 上次同步时间：系统当前时间 验证 android:id/summary 为 同步功能已关闭 |
|                 | 帐户设置:点击帐户设置                                        | 验证 手势密码 存在                                           |
|                 | 移除帐户:移除帐户                                            | 验证 帐户首页 IMAP 不存在                                    |
|                 |                                                              |                                                              |
| 12 系统账户管理 |                                                              |                                                              |
|                 |                                                              |                                                              |
| 13 语言和输入法 | 语言:切换英语 切换中文                                       | 验证android:id/summary为English (United States)，且Spell checker存在 验证android:id/summary为中文 (简体)，且 拼写检查工具 存在 |
|                 | 拼写检查工具                                                 |                                                              |
|                 | 个人字典                                                     |                                                              |
|                 | 当前输入法                                                   |                                                              |
|                 | Android键盘(AOSP)                                            |                                                              |
|                 | 谷歌拼音输入法                                               |                                                              |
|                 | 物理键盘                                                     |                                                              |
|                 | 语音                                                         |                                                              |
|                 | 鼠标/控制版                                                  |                                                              |
|                 |                                                              |                                                              |
| 14 日期和时间   |                                                              |                                                              |
|                 |                                                              |                                                              |
| 15 无障碍       |                                                              |                                                              |
|                 |                                                              |                                                              |
| 16 打印         |                                                              |                                                              |
|                 |                                                              |                                                              |
| 15 开发者选项   |                                                              |                                                              |
|                 |                                                              |                                                              |
| 17 关于设备     |                                                              |                                                              |
|                 |                                                              |                                                              |
| 18 云服务       |                                                              |                                                              |
|                 |                                                              |                                                              |
| 19 工具栏       | 返回按钮                                                     |                                                              |
|                 | 搜索按钮                                                     |                                                              |
|                 |                                                              |                                                              |
| 20 清理结束     | 结束:关闭设置                                                |                                                              |

##### 3.7 开始菜单

| 模块     | 测试点                                                       | 验证方式                                                     |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
|          |                                                              |                                                              |
| 准备部分 | 打开设置的“未知来源”选项                                     |                                                              |
|          | 在应用商店下载并安装os monitor                               |                                                              |
|          | 删除开始菜单常用软件列表的应用                               |                                                              |
|          |                                                              |                                                              |
|          |                                                              |                                                              |
| 工具栏   | 搜索栏:输入"日历"                                            | 验证 gv_view 中第一项的文字内容为 "日历"                     |
|          | 排序栏:A-Z 正序 A-Z 逆序 使用频率 安装时间 默认              | 未做判断 （user和eng版内容有出入） 验证 gv_view 中第一项的文字内容为 "终端控制台" 未做判断 未做判断 未做判断 |
|          |                                                              |                                                              |
|          |                                                              |                                                              |
| 应用列表 | 左键点击:单击打开OS Monitor                                  | 验证 "进程" 存在                                             |
|          | 右键菜单:打开 以手机模式运行 以桌面模式运行 固定到任务栏 解除固定 卸载 | 验证 "进程" 存在 验证 "进程" 存在 验证 "进程" 存在 点击解除固定 未做判断 验证 "强行停止" 存在 |
|          |                                                              |                                                              |
|          |                                                              |                                                              |
| 常用软件 | 显示:顺序显示                                                | 验证常用软件的第一位为 OS Monitor                            |
|          | 左键点击:单击打开OS Monitor                                  | 验证 "进程" 存在                                             |
|          | 右键菜单:打开 以手机模式运行 以桌面模式运行 从此列表中删除   | 验证 "进程" 存在 验证 "进程" 存在 验证 "进程" 存在 验证 lv_usually_view 不存在 |
|          |                                                              |                                                              |
|          |                                                              |                                                              |
| 系统应用 | 单击:文件管理 设置 电源                                      | 验证 "计算机" 存在 验证 "蓝牙" 存在 验证 "睡眠" 存在         |
|          |                                                              |                                                              |
|          |                                                              |                                                              |
|          |                                                              |                                                              |
| 清理结束 |                                                              | 清理:卸载移除OS Monitor                                      |
|          |                                                              | 结束                                                         |

